<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#FFC107">
    <title>ë™ê´‘êµíšŒ 60ì£¼ë…„ ì„±ê²½í€´ì¦ˆëŒ€íšŒ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
    <!-- Firebase SDK (v9 compat) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <style>
        :root {
            --primary-yellow: #FFC107;
            --primary-dark: #222222;
            --accent-red: #E53935;
            --gradient-main: linear-gradient(135deg, #FFC107 0%, #FF9800 50%, #E53935 100%);
            --text-dark: #222222;
            --text-light: #ffffff;
            --bg-yellow: #FFD740;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #FFF8E1;
            color: var(--text-dark);
            line-height: 1.6;
        }

        /* ë ˆì´ì•„ì›ƒ ì»¨í…Œì´ë„ˆ */
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* í—¤ë” & ë¡œê³  */
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        .logo-img {
            max-width: 200px;
            height: auto;
            margin-bottom: 8px;
        }
        .title {
            font-size: 1.6rem;
            font-weight: 900;
            color: var(--primary-dark);
            margin-bottom: 4px;
        }
        .subtitle {
            font-size: 0.9rem;
            color: #666;
        }

        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            padding: 30px;
            text-align: center;
            transition: transform 0.3s ease;
            border: 3px solid transparent;
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-primary {
            background: var(--primary-dark);
            color: var(--primary-yellow);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            font-weight: 900;
        }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,0.4); }
        .btn-option {
            background: #fff;
            border: 3px solid #eee;
            color: var(--text-dark);
            font-weight: 700;
        }
        .btn-option:hover {
            border-color: var(--primary-yellow);
            background: #FFFDE7;
        }

        /* í€´ì¦ˆ í™”ë©´ ìš”ì†Œ */
        .hidden { display: none; }
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #ddd;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--gradient-main);
            width: 0%;
            transition: width 0.3s ease;
        }
        .question-text {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 25px;
            word-break: keep-all;
        }
        .input-answer {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            margin-bottom: 15px;
        }
        .badge {
            display: inline-block;
            padding: 5px 10px;
            background-color: #eee;
            border-radius: 15px;
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 10px;
        }

        /* íƒ€ì´ë¨¸ ë°” */
        .timer-bar {
            width: 100%;
            height: 8px;
            background: #eee;
            border-radius: 4px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        .timer-fill {
            height: 100%;
            width: 100%;
            border-radius: 4px;
            transition: background 0.3s;
        }
        .timer-fill.green { background: #4CAF50; }
        .timer-fill.yellow { background: #FF9800; }
        .timer-fill.red { background: #F44336; }
        .timer-text {
            font-size: 1.4rem;
            font-weight: 800;
            margin-bottom: 5px;
            transition: color 0.3s;
        }
        .timer-text.green { color: #4CAF50; }
        .timer-text.yellow { color: #FF9800; }
        .timer-text.red { color: #F44336; animation: pulse 0.5s infinite; }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* í€´ì¦ˆ HUD (ëª©ìˆ¨ + ì ìˆ˜) */
        .quiz-hud {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px 5px;
        }
        .hud-lives {
            font-size: 1.5rem;
            letter-spacing: 4px;
            transition: all 0.3s;
        }
        .hud-score {
            font-size: 1.1rem;
            font-weight: 900;
            color: var(--primary-dark);
        }
        .hud-streak {
            font-size: 0.85rem;
            font-weight: 700;
            color: var(--accent-red);
            min-height: 20px;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-6px); }
            80% { transform: translateX(6px); }
        }
        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            70% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes heartBreak {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); color: #F44336; }
            100% { transform: scale(0); opacity: 0; }
        }
        @keyframes scoreUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-40px); opacity: 0; }
        }
        .shake { animation: shake 0.5s ease; }
        .pop-in { animation: popIn 0.4s ease; }
        .score-float {
            position: absolute;
            right: 20px;
            top: 50px;
            font-size: 1.2rem;
            font-weight: 800;
            color: #4CAF50;
            pointer-events: none;
            animation: scoreUp 1s ease forwards;
        }
        .quiz-card-wrapper {
            position: relative;
        }

        /* ê²Œì„ì˜¤ë²„ í™”ë©´ */
        .gameover-emoji {
            font-size: 4rem;
            margin: 15px 0;
        }
        .gameover-score {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--accent-red);
            margin: 10px 0;
        }

        /* ì…ë ¥ í¼ ìŠ¤íƒ€ì¼ */
        .form-group {
            text-align: left;
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            font-weight: 700;
            margin-bottom: 6px;
            color: var(--text-dark);
        }
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #ddd;
            border-radius: 12px;
            font-size: 1rem;
            font-family: 'Noto Sans KR', sans-serif;
            transition: border-color 0.2s;
        }
        .form-input:focus {
            outline: none;
            border-color: var(--primary-yellow);
        }
        .form-error {
            color: #F44336;
            font-size: 0.85rem;
            margin-top: 4px;
            display: none;
        }

        /* ê²°ê³¼ í™”ë©´ */
        .score-display {
            font-size: 3rem;
            font-weight: 900;
            color: var(--primary-dark);
            margin: 20px 0;
        }
        .feedback-correct { color: #4CAF50; font-weight: bold; margin-bottom: 10px; }
        .feedback-wrong { color: #F44336; font-weight: bold; margin-bottom: 10px; }

        /* ë¦¬ë”ë³´ë“œ */
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 0.95rem;
        }
        .leaderboard-table th {
            background: var(--primary-dark);
            color: var(--primary-yellow);
            padding: 10px 8px;
            font-weight: 900;
        }
        .leaderboard-table th:first-child { border-radius: 10px 0 0 0; }
        .leaderboard-table th:last-child { border-radius: 0 10px 0 0; }
        .leaderboard-table td {
            padding: 10px 8px;
            border-bottom: 1px solid #eee;
            text-align: center;
        }
        .leaderboard-table tr:hover td {
            background: #fff8e1;
        }
        .leaderboard-table .rank-1 td { background: #FFF8E1; font-weight: 900; }
        .leaderboard-table .rank-2 td { background: #f0f0f0; }
        .leaderboard-table .rank-3 td { background: #fde8d0; }
        .medal { font-size: 1.2rem; }
        .leaderboard-empty {
            color: #999;
            padding: 30px 0;
            font-size: 0.95rem;
        }
        #leaderboard-content {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        .btn-secondary {
            background: var(--primary-yellow);
            border: 2px solid var(--primary-yellow);
            color: var(--primary-dark);
            box-shadow: none;
            font-weight: 900;
        }
        .btn-secondary:hover {
            background: #FFD740;
            transform: translateY(-2px);
        }
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .btn-group .btn { flex: 1; }
        .church-logo {
            width: 50px;
            height: auto;
            vertical-align: middle;
            margin-right: 8px;
        }

        /* í¬ìŠ¤í„° & ì‹œì‘í™”ë©´ */
        .poster-img {
            width: 100%;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        .event-info {
            background: #FFFDE7;
            border-radius: 14px;
            padding: 16px;
            margin: 15px 0;
            text-align: left;
            border-left: 5px solid var(--primary-yellow);
        }
        .event-info p {
            font-size: 0.9rem;
            margin: 6px 0;
            color: #444;
        }
        .event-info strong {
            color: var(--primary-dark);
        }
        .slogan {
            font-size: 1.05rem;
            font-weight: 900;
            color: var(--accent-red);
            margin: 15px 0;
            line-height: 1.8;
        }
        .start-title {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--primary-dark);
            margin-bottom: 5px;
        }
        .start-badge {
            display: inline-block;
            background: var(--primary-yellow);
            color: var(--primary-dark);
            padding: 4px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 900;
            margin-bottom: 12px;
        }
        .scope-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            justify-content: center;
            margin: 10px 0;
        }
        .scope-tag {
            background: var(--primary-dark);
            color: var(--primary-yellow);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
        }

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
        @media (max-width: 480px) {
            .container {
                padding: 12px;
                justify-content: flex-start;
                padding-top: 10px;
            }
            header {
                margin-bottom: 15px;
            }
            .logo-img {
                max-width: 140px;
            }
            .title {
                font-size: 1.3rem;
            }
            .card {
                padding: 20px 16px;
                border-radius: 18px;
            }
            .poster-img {
                border-radius: 12px;
            }
            .start-title {
                font-size: 1.4rem;
            }
            .slogan {
                font-size: 0.95rem;
            }
            .event-info {
                padding: 12px;
            }
            .event-info p {
                font-size: 0.85rem;
            }
            .btn {
                padding: 13px;
                font-size: 1rem;
            }
            .question-text {
                font-size: 1.05rem;
                margin-bottom: 18px;
            }
            .btn-option {
                padding: 12px;
                font-size: 0.95rem;
            }
            .quiz-hud {
                margin-bottom: 10px;
                padding: 6px 2px;
            }
            .hud-lives {
                font-size: 1.2rem;
                letter-spacing: 2px;
            }
            .hud-score {
                font-size: 1rem;
            }
            .timer-text {
                font-size: 1.2rem;
            }
            .score-display {
                font-size: 2.5rem;
            }
            .gameover-score {
                font-size: 2rem;
            }
            .gameover-emoji {
                font-size: 3rem;
            }
            .leaderboard-table {
                font-size: 0.85rem;
            }
            .leaderboard-table th,
            .leaderboard-table td {
                padding: 8px 4px;
            }
            .btn-group {
                flex-direction: column;
            }
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <img src="logo.png" alt="ë™ê´‘êµíšŒ 60ì£¼ë…„ ë¡œê³ " class="logo-img">
        <h1 class="title">ì „êµì¸ ì„±ê²½í€´ì¦ˆëŒ€íšŒ</h1>
        <p class="subtitle">ë™ê´‘êµíšŒ ì°½ë¦½ 60ì£¼ë…„ ê¸°ë…</p>
    </header>

    <!-- 1. ì‹œì‘ í™”ë©´ -->
    <div id="start-screen" class="card">
        <img src="poster.jpg" alt="ì„±ê²½í€´ì¦ˆëŒ€íšŒ í¬ìŠ¤í„°" class="poster-img">
        <div class="start-badge">ì°½ë¦½ 60ì£¼ë…„</div>
        <h2 class="start-title">ì„±ê²½í€´ì¦ˆëŒ€íšŒ</h2>
        <div class="slogan">ì˜¤ì§ ë§ˆìŒ ë‹¤í•´<br>ì¹´ë¦¬ìŠ¤ë§ˆ ìˆê²Œ<br>ì„¸ìƒì„ ì •ë³µí•˜ë¼!</div>
        <div class="scope-tags">
            <span class="scope-tag">í•™ê°œ</span>
            <span class="scope-tag">ìŠ¤ê°€ë´</span>
            <span class="scope-tag">ì—ìŠ¤ë¼</span>
            <span class="scope-tag">ëŠí—¤ë¯¸ì•¼</span>
        </div>
        <div class="event-info">
            <p><strong>ì¼ì‹œ:</strong> 2026. 2. 22 (ì£¼ì¼) ì˜¤í›„ 5ì‹œ</p>
            <p><strong>ì¥ì†Œ:</strong> ì‚¬ë‘ì„±ì „ (ì£¼ì¼ ì˜¤í›„ì˜ˆë°°)</p>
            <p><strong>ëŒ€ìƒ:</strong> ì „êµì¸ (ìœ ì•„ë¶€~ì¥ë…„ë¶€)</p>
            <p><strong>ì‹œìƒ:</strong> íŒ€ë³„ì‹œìƒ, ê°œì¸ MVP ë“± í‘¸ì§í•œ ì„ ë¬¼</p>
        </div>
        <button class="btn btn-primary" onclick="showRegister()">í€´ì¦ˆ ì°¸ê°€í•˜ê¸°</button>
        <button class="btn btn-secondary" style="margin-top:8px;" onclick="showLeaderboard()">ë¦¬ë”ë³´ë“œ ë³´ê¸°</button>
    </div>

    <!-- 2. ì†Œì†/ì´ë¦„ ì…ë ¥ í™”ë©´ -->
    <div id="register-screen" class="card hidden">
        <h2><img src="churchlogo.png" alt="êµíšŒ ë¡œê³ " class="church-logo">ì°¸ê°€ì ë“±ë¡</h2>
        <p style="margin: 15px 0 20px; color: #666;">ì†Œì†ê³¼ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
        <div class="form-group">
            <label for="input-group">ì†Œì† (ë¶€ì„œ/êµ¬ì—­)</label>
            <input type="text" id="input-group" class="form-input" placeholder="ì˜ˆ: ì²­ë…„ë¶€, 1êµ¬ì—­">
            <div class="form-error" id="error-group">ì†Œì†ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
        </div>
        <div class="form-group">
            <label for="input-name">ì´ë¦„</label>
            <input type="text" id="input-name" class="form-input" placeholder="ì˜ˆ: í™ê¸¸ë™">
            <div class="form-error" id="error-name">ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
        </div>
        <button class="btn btn-primary" onclick="startQuiz()">í€´ì¦ˆ ì‹œì‘í•˜ê¸°</button>
    </div>

    <div id="quiz-screen" class="card hidden quiz-card-wrapper">
        <div class="quiz-hud">
            <div class="hud-lives" id="hud-lives"></div>
            <div style="text-align:right;">
                <div class="hud-score" id="hud-score">0ì </div>
                <div class="hud-streak" id="hud-streak"></div>
            </div>
        </div>
        <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
        <div class="timer-text green" id="timer-text">15</div>
        <div class="timer-bar"><div class="timer-fill green" id="timer-fill"></div></div>
        <div class="badge" id="category-badge">ë‚œì´ë„: í•˜</div>
        <div class="question-text" id="question">ë¬¸ì œ ë‚´ìš©ì´ ì—¬ê¸°ì— ë‚˜ì˜µë‹ˆë‹¤.</div>

        <div id="options-container"></div>

        <div id="input-container" class="hidden">
            <input type="text" id="subjective-answer" class="input-answer" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
            <button class="btn btn-primary" onclick="submitSubjective()">ì œì¶œ</button>
        </div>

        <div id="feedback" style="margin-top: 15px;"></div>
    </div>

    <!-- ê²Œì„ì˜¤ë²„ í™”ë©´ -->
    <div id="gameover-screen" class="card hidden">
        <div class="gameover-emoji">ğŸ’”</div>
        <h2>ê²Œì„ ì˜¤ë²„!</h2>
        <p id="gameover-player-info"></p>
        <div class="gameover-score" id="gameover-score">0ì </div>
        <p style="color:#666; margin: 10px 0;">ëª©ìˆ¨ì„ ëª¨ë‘ ìƒì—ˆìŠµë‹ˆë‹¤!</p>
        <p id="gameover-message"></p>
        <div class="btn-group">
            <button class="btn btn-primary" onclick="restartQuiz()">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
            <button class="btn btn-secondary" onclick="showLeaderboard()">ë¦¬ë”ë³´ë“œ</button>
        </div>
    </div>

    <!-- 4. ê²°ê³¼ í™”ë©´ -->
    <div id="result-screen" class="card hidden">
        <h2>í€´ì¦ˆ ì¢…ë£Œ!</h2>
        <p id="result-player-info"></p>
        <div class="score-display" id="final-score">0ì </div>
        <p id="result-message">ë§ì”€ ì•ˆì— ê±°í•˜ëŠ” ì‚¶, ì¶•ë³µí•©ë‹ˆë‹¤!</p>
        <div class="btn-group">
            <button class="btn btn-primary" onclick="restartQuiz()">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
            <button class="btn btn-secondary" onclick="showLeaderboard()">ë¦¬ë”ë³´ë“œ</button>
        </div>
    </div>

    <!-- 5. ë¦¬ë”ë³´ë“œ í™”ë©´ -->
    <div id="leaderboard-screen" class="card hidden">
        <h2>ë¦¬ë”ë³´ë“œ</h2>
        <p style="margin: 10px 0; color: #666;">ìƒìœ„ ê¸°ë¡ì„ í™•ì¸í•˜ì„¸ìš”!</p>
        <div id="leaderboard-content"></div>
        <button class="btn btn-primary" style="margin-top: 20px;" onclick="showStart()">ì²˜ìŒìœ¼ë¡œ</button>
    </div>
</div>

<script>
    // â”€â”€â”€ Firebase ì´ˆê¸°í™” â”€â”€â”€
    // TODO: ì•„ë˜ config ê°’ì„ Firebase ì½˜ì†”ì—ì„œ ë³µì‚¬í•œ ê°’ìœ¼ë¡œ êµì²´í•˜ì„¸ìš”
    const firebaseConfig = {
        apiKey: "AIzaSyDmaY9vFpL3xczQQ96lt55uqerekNfdHr8",
        authDomain: "dkbiblequiz.firebaseapp.com",
        projectId: "dkbiblequiz",
        storageBucket: "dkbiblequiz.firebasestorage.app",
        messagingSenderId: "330186942750",
        appId: "1:330186942750:web:94bd4f131cc4bedf3a810f",
        measurementId: "G-31TPW6GY9Y"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // ë¬¸ì œ ë°ì´í„° (PDF ì›ë³¸ 80ë¬¸ì œ)
    const quizData = [
        // â”€â”€ í•™ê°œ (20ë¬¸ì œ) â”€â”€
        // í•˜
        { category:"í•™ê°œ", level:"í•˜", type:"subjective", question:"í•™ê°œ ì„ ì§€ìê°€ í•˜ë‚˜ë‹˜ì˜ ë§ì”€ì„ ì „í•  ë•Œ, ë‹¹ì‹œ ìœ ë‹¤ì˜ ì´ë…ì€ ëˆ„êµ¬ì˜€ìŠµë‹ˆê¹Œ?", answer:["ìŠ¤ë£¹ë°”ë²¨"], ref:"í•™ 1:1" },
        { category:"í•™ê°œ", level:"í•˜", type:"objective", question:"í•™ê°œ ì„ ì§€ìê°€ ì‚¬ì—­í•˜ë˜ ì‹œê¸°ì˜ ë°”ì‚¬(í˜ë¥´ì‹œì•„) ì™•ì€ ëˆ„êµ¬ì…ë‹ˆê¹Œ?", options:["ê³ ë ˆìŠ¤","ë‹¤ë¦¬ì˜¤","ì•„ë‹¥ì‚¬ìŠ¤ë‹¤","ì•„í•˜ìˆ˜ì—ë¡œ"], answer:1, ref:"í•™ 1:1" },
        { category:"í•™ê°œ", level:"í•˜", type:"subjective", question:"ë°±ì„±ë“¤ì´ ì„±ì „ ê±´ì¶•ì„ ë¯¸ë£° ë•Œ, ì •ì‘ ìì‹ ë“¤ì€ ì–´ë–¤ ì§‘ì— ê±°ì£¼í•˜ê³  ìˆì—ˆìŠµë‹ˆê¹Œ?", answer:["íŒë²½í•œ ì§‘","íŒë²½ì§‘","ì˜ ê¾¸ë©°ì§„ ì§‘"], ref:"í•™ 1:4" },
        { category:"í•™ê°œ", level:"í•˜", type:"subjective", question:"í•˜ë‚˜ë‹˜ê»˜ì„œ ë°±ì„±ë“¤ì—ê²Œ 'ë„ˆí¬ëŠ” ë„ˆí¬ì˜ ( )ë¥¼ ì‚´í•„ì§€ë‹ˆë¼'ë¼ê³  ë°˜ë³µí•˜ì…¨ìŠµë‹ˆë‹¤. ê´„í˜¸ ì•ˆì— ë“¤ì–´ê°ˆ ë‹¨ì–´ëŠ”?", answer:["í–‰ìœ„"], ref:"í•™ 1:5,7" },
        { category:"í•™ê°œ", level:"í•˜", type:"objective", question:"í•™ê°œì„œëŠ” ì´ ëª‡ ì¥ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆê¹Œ?", options:["1ì¥","2ì¥","3ì¥","12ì¥"], answer:1, ref:"í•™ê°œì„œ" },
        // ì¤‘
        { category:"í•™ê°œ", level:"ì¤‘", type:"subjective", question:"í•˜ë‚˜ë‹˜ì€ ë°±ì„±ë“¤ì—ê²Œ ì–´ë””ì— ì˜¬ë¼ê°€ì„œ ë‚˜ë¬´ë¥¼ ê°€ì ¸ë‹¤ê°€ ì„±ì „ì„ ê±´ì¶•í•˜ë¼ê³  ëª…ë ¹í•˜ì…¨ìŠµë‹ˆê¹Œ?", answer:["ì‚°"], ref:"í•™ 1:8" },
        { category:"í•™ê°œ", level:"ì¤‘", type:"objective", question:"ë°±ì„±ë“¤ì´ ì„±ì „ ì¬ê±´ì„ ì†Œí™€íˆ í•œ ê²°ê³¼ë¡œ ë‚˜íƒ€ë‚œ í˜„ìƒì´ ì•„ë‹Œ ê²ƒì€?", options:["ë§ì´ ë¿Œë¦´ì§€ë¼ë„ ìˆ˜í™•ì´ ì ìŒ","ë¨¹ì„ì§€ë¼ë„ ë°°ë¶€ë¥´ì§€ ëª»í•¨","ì…ì–´ë„ ë”°ëœ»í•˜ì§€ ëª»í•¨","ëŒ€ì ì˜ ì¹¨ê³µì„ ë°›ì•„ ì„±ìì´ ë¬´ë„ˆì§"], answer:3, ref:"í•™ 1:6" },
        { category:"í•™ê°œ", level:"ì¤‘", type:"subjective", question:"í•™ê°œì˜ ë…ë ¤ë¥¼ ë“£ê³  ì„±ì „ ê³µì‚¬ë¥¼ ì‹œì‘í•œ ìœ ë‹¤ì˜ ëŒ€ì œì‚¬ì¥ ì´ë¦„ì€?", answer:["ì—¬í˜¸ìˆ˜ì•„"], ref:"í•™ 1:12" },
        { category:"í•™ê°œ", level:"ì¤‘", type:"objective", question:"ì†”ë¡œëª¬ ì„±ì „ì˜ ì˜ê´‘ì„ ê¸°ì–µí•˜ëŠ” ë…¸ì¸ë“¤ì´ ìƒˆ ì„±ì „ì„ ë³´ì•˜ì„ ë•Œ ì–´ë–»ê²Œ ëŠê¼ˆìŠµë‹ˆê¹Œ?", options:["ë§¤ìš° ì›…ì¥í•´ ë³´ì˜€ë‹¤","ë³´ì˜ê²ƒì—†ì–´ ë³´ì˜€ë‹¤","í™©ê¸ˆë¹›ìœ¼ë¡œ ë¹›ë‚¬ë‹¤","ë¬´ì„œì›Œ ë³´ì˜€ë‹¤"], answer:1, ref:"í•™ 2:3" },
        { category:"í•™ê°œ", level:"ì¤‘", type:"subjective", question:"í•˜ë‚˜ë‹˜ê»˜ì„œ 'ì¡°ê¸ˆ ìˆìœ¼ë©´ ë‚´ê°€ í•˜ëŠ˜ê³¼ ë•…ê³¼ ë°”ë‹¤ì™€ ( )ë¥¼ ì§„ë™ì‹œí‚¬ ê²ƒì´ìš”'ë¼ê³  ë§ì”€í•˜ì…¨ìŠµë‹ˆë‹¤. ê´„í˜¸ ì•ˆì— ë“¤ì–´ê°ˆ ë‹¨ì–´ëŠ”?", answer:["ìœ¡ì§€"], ref:"í•™ 2:6" },
        { category:"í•™ê°œ", level:"ì¤‘", type:"subjective", question:"í•˜ë‚˜ë‹˜ê»˜ì„œ ì„±ì „ì„ ì¬ê±´í•˜ë©´ 'ì´ê³³ì— ( )ì„ ì£¼ë¦¬ë¼'ê³  ì•½ì†í•˜ì…¨ìŠµë‹ˆë‹¤. ê´„í˜¸ ì•ˆì— ë“¤ì–´ê°ˆ ë‹¨ì–´ëŠ”?", answer:["í‰ê°•"], ref:"í•™ 2:9" },
        { category:"í•™ê°œ", level:"ì¤‘", type:"objective", question:"í•™ê°œ 2ì¥ì—ì„œ ê±°ë£©í•œ ê³ ê¸°ë¥¼ ì‹¼ ì˜·ìë½ì´ ë‹¤ë¥¸ ìŒì‹ì— ë‹¿ìœ¼ë©´ ê·¸ ìŒì‹ì´ ì„±ë¬¼ì´ ë©ë‹ˆê¹Œ?", options:["ëœë‹¤","ì•ˆ ëœë‹¤","ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ë‹¤","ì•Œ ìˆ˜ ì—†ë‹¤"], answer:1, ref:"í•™ 2:12" },
        { category:"í•™ê°œ", level:"ì¤‘", type:"subjective", question:"ì‹œì²´ë¥¼ ë§Œì ¸ ë¶€ì •í•˜ì—¬ì§„ ìê°€ ë¬´ì—‡ì„ ë§Œì§€ë©´ ê·¸ê²ƒì´ ì–´ë–»ê²Œ ë©ë‹ˆê¹Œ?", answer:["ë¶€ì •í•˜ì—¬ì§„ë‹¤","ë¶€ì •í•´ì§„ë‹¤"], ref:"í•™ 2:13" },
        { category:"í•™ê°œ", level:"ì¤‘", type:"objective", question:"ì§€ëŒ€(ê¸°ì´ˆ)ë¥¼ ìŒ“ê¸° ì „ì—ëŠ” ì´ì‹­ ê³ ë¥´ ê³¡ì‹ ë”ë¯¸ì— ì´ë¥¸ì¦‰ ì‹¤ì œë¡œëŠ” ëª‡ ê³ ë¥´ë¿ì´ì—ˆìŠµë‹ˆê¹Œ?", options:["ì˜¤ ê³ ë¥´","ì‹­ ê³ ë¥´","ì‹­ì˜¤ ê³ ë¥´","ì´ì‹­ ê³ ë¥´"], answer:1, ref:"í•™ 2:16" },
        { category:"í•™ê°œ", level:"ì¤‘", type:"subjective", question:"í¬ë„ì¦™ í‹€ì—ì„œ ì˜¤ì‹­ ê³ ë¥´ë¥¼ ê¸¸ìœ¼ë ¤ í•œì¦‰ ì‹¤ì œë¡œëŠ” ëª‡ ê³ ë¥´ë¿ì´ì—ˆìŠµë‹ˆê¹Œ?", answer:["ì´ì‹­","ì´ì‹­ ê³ ë¥´","20","20ê³ ë¥´"], ref:"í•™ 2:16" },
        // ìƒ
        { category:"í•™ê°œ", level:"ìƒ", type:"subjective", question:"í•™ê°œ ì„ ì§€ìì—ê²Œ ì—¬í˜¸ì™€ì˜ ë§ì”€ì´ ì²˜ìŒ ì„í•œ ë‚ ì§œëŠ” êµ¬ì²´ì ìœ¼ë¡œ ì–¸ì œì…ë‹ˆê¹Œ?", answer:["ë‹¤ë¦¬ì˜¤ ì™• ì œì´ë…„ ì—¬ì„¯ì§¸ ë‹¬ ì´ˆí•˜ë£¨","ì—¬ì„¯ì§¸ ë‹¬ ì´ˆí•˜ë£¨","6ì›” 1ì¼"], ref:"í•™ 1:1" },
        { category:"í•™ê°œ", level:"ìƒ", type:"objective", question:"ë°±ì„±ë“¤ì´ ë§ˆìŒì´ ê°ë™ë˜ì–´ ì—¬í˜¸ì™€ì˜ ì „ ê³µì‚¬ë¥¼ ì‹¤ì œë¡œ ì‹œì‘í•œ ë‚ ì§œëŠ”?", options:["ì—¬ì„¯ì§¸ ë‹¬ ì´ì‹­ì‚¬ì¼","ì¼ê³±ì§¸ ë‹¬ ì´ì‹­ì¼ì¼","ì•„í™‰ì§¸ ë‹¬ ì´ì‹­ì‚¬ì¼","ì—´ì§¸ ë‹¬ ì´ˆí•˜ë£¨"], answer:0, ref:"í•™ 1:15" },
        { category:"í•™ê°œ", level:"ìƒ", type:"subjective", question:"í•˜ë‚˜ë‹˜ê»˜ì„œ 'ì˜¤ëŠ˜ë¶€í„°ëŠ” ë‚´ê°€ ë„ˆí¬ì—ê²Œ ë³µì„ ì£¼ë¦¬ë¼'ê³  ì„ í¬í•˜ì‹  ë‚ ì§œëŠ” ì•„í™‰ì§¸ ë‹¬ ë©°ì¹ ì…ë‹ˆê¹Œ?", answer:["ì´ì‹­ì‚¬ì¼","24ì¼"], ref:"í•™ 2:18-19" },
        { category:"í•™ê°œ", level:"ìƒ", type:"subjective", question:"í•™ê°œ 2:23ì—ì„œ í•˜ë‚˜ë‹˜ì€ ìŠ¤ë£¹ë°”ë²¨ì„ ë¬´ì—‡ìœ¼ë¡œ ì‚¼ê² ë‹¤ê³  ë§ì”€í•˜ì…¨ìŠµë‹ˆê¹Œ?", answer:["ì¸ì¥","ë„ì¥","ì¸"], ref:"í•™ 2:23" },
        { category:"í•™ê°œ", level:"ìƒ", type:"objective", question:"í•™ê°œì„œ 2ì¥ì—ì„œ ì—¬í˜¸ì™€ì˜ ë§ì”€ì´ ì„í•œ ì„¸ ë²ˆì§¸ ë‚ ì§œ(ì´ì „ ì˜ê´‘ì„ ë³¸ ìë“¤ì„ ìœ„ë¡œí•˜ì‹¤ ë•Œ)ëŠ”?", options:["ì—¬ì„¯ì§¸ ë‹¬ ì´ì‹­ì‚¬ì¼","ì¼ê³±ì§¸ ë‹¬ ì´ì‹­ì¼ì¼","ì•„í™‰ì§¸ ë‹¬ ì´ì‹­ì‚¬ì¼","ì—´ì§¸ ë‹¬ ì´ˆí•˜ë£¨"], answer:1, ref:"í•™ 2:1" },

        // â”€â”€ ìŠ¤ê°€ë´ (20ë¬¸ì œ) â”€â”€
        // í•˜
        { category:"ìŠ¤ê°€ë´", level:"í•˜", type:"subjective", question:"ìŠ¤ê°€ë´ ì„ ì§€ìëŠ” ëˆ„êµ¬ì˜ ì†ìì…ë‹ˆê¹Œ?", answer:["ì‡ë„"], ref:"ìŠ¥ 1:1" },
        { category:"ìŠ¤ê°€ë´", level:"í•˜", type:"objective", question:"ìŠ¤ê°€ë´ 3ì¥ì—ì„œ ëŒ€ì œì‚¬ì¥ ì—¬í˜¸ìˆ˜ì•„ì˜ ì˜¤ë¥¸ìª½ì— ì„œì„œ ëŒ€ì í•œ ì¡´ì¬ëŠ”?", options:["ê°€ë¸Œë¦¬ì—˜","ë¯¸ê°€ì—˜","ì‚¬íƒ„","ë²¨ë¦¬ì•Œ"], answer:2, ref:"ìŠ¥ 3:1" },
        { category:"ìŠ¤ê°€ë´", level:"í•˜", type:"subjective", question:"ìŠ¤ê°€ë´ì„œëŠ” ì´ ëª‡ ì¥ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆê¹Œ?", answer:["14","14ì¥","ì‹­ì‚¬ì¥"], ref:"ìŠ¤ê°€ë´ì„œ" },
        { category:"ìŠ¤ê°€ë´", level:"í•˜", type:"subjective", question:"'ì´ëŠ” í˜ìœ¼ë¡œ ë˜ì§€ ì•„ë‹ˆí•˜ë©° ëŠ¥ë ¥ìœ¼ë¡œ ë˜ì§€ ì•„ë‹ˆí•˜ê³  ì˜¤ì§ ë‚˜ì˜ ( )ìœ¼ë¡œ ë˜ëŠë‹ˆë¼' ê´„í˜¸ ì•ˆì— ë“¤ì–´ê°ˆ ë‹¨ì–´ëŠ”?", answer:["ì˜","ì‹ "], ref:"ìŠ¥ 4:6" },
        { category:"ìŠ¤ê°€ë´", level:"í•˜", type:"objective", question:"ìŠ¤ê°€ë´ 9ì¥ì—ì„œ ì˜ˆë£¨ì‚´ë ˜ì˜ ì™•ì´ ê²¸ì†í•˜ì—¬ì„œ íƒ€ê³  ì…ì„±í•˜ëŠ” ê²ƒì€?", options:["ë°±ë§ˆ","ë³‘ê±°","ë‚˜ê·€","ë‚™íƒ€"], answer:2, ref:"ìŠ¥ 9:9" },
        // ì¤‘
        { category:"ìŠ¤ê°€ë´", level:"ì¤‘", type:"subjective", question:"ìŠ¤ê°€ë´ê°€ ë³¸ ì²« ë²ˆì§¸ í™˜ìƒì—ì„œ, ê³¨ì§œê¸° ì† í™”ì„ë¥˜ë‚˜ë¬´ ì‚¬ì´ì— ì„  ìê°€ íƒ„ ë§ì˜ ìƒ‰ê¹”ì€?", answer:["ë¶‰ì€ìƒ‰","í™ë§ˆ","ë¶‰ì€"], ref:"ìŠ¥ 1:8" },
        { category:"ìŠ¤ê°€ë´", level:"ì¤‘", type:"objective", question:"ìœ ë‹¤ì™€ ì´ìŠ¤ë¼ì—˜ì„ í©ëœ¨ë¦° 'ë„¤ ë¿”'ì„ ê²ì£¼ê¸° ìœ„í•´ ë“±ì¥í•œ ì‚¬ëŒë“¤ì€?", options:["ëŒ€ì¥ì¥ì´ ë„¤ ëª…","ì œì‚¬ì¥ ë„¤ ëª…","íŒŒìˆ˜ê¾¼ ë„¤ ëª…","ë†ë¶€ ë„¤ ëª…"], answer:0, ref:"ìŠ¥ 1:20" },
        { category:"ìŠ¤ê°€ë´", level:"ì¤‘", type:"subjective", question:"ì²œì‚¬ê°€ ëŒ€ì œì‚¬ì¥ ì—¬í˜¸ìˆ˜ì•„ì˜ ë”ëŸ¬ìš´ ì˜·ì„ ë²—ê¸°ê³  ë¬´ì—‡ì„ ì…í˜€ì£¼ì—ˆìŠµë‹ˆê¹Œ?", answer:["ì•„ë¦„ë‹¤ìš´ ì˜·"], ref:"ìŠ¥ 3:4" },
        { category:"ìŠ¤ê°€ë´", level:"ì¤‘", type:"objective", question:"ìŠ¤ê°€ë´ 4ì¥ì—ì„œ ìˆœê¸ˆ ë“±ì”ëŒ€ ê³ì˜ 'ë‘ ê°ëŒë‚˜ë¬´'ëŠ” ë¬´ì—‡ì„ ìƒì§•í•©ë‹ˆê¹Œ?", options:["ë‘ ì²œì‚¬","ê¸°ë¦„ ë¶€ìŒ ë°›ì€ ì ë‘˜","ì´ìŠ¤ë¼ì—˜ê³¼ ìœ ë‹¤","êµ¬ì•½ê³¼ ì‹ ì•½"], answer:1, ref:"ìŠ¥ 4:14" },
        { category:"ìŠ¤ê°€ë´", level:"ì¤‘", type:"subjective", question:"ë‚ ì•„ê°€ëŠ” ë‘ë£¨ë§ˆë¦¬ í™˜ìƒì—ì„œ ê·¸ ë‘ë£¨ë§ˆë¦¬ì˜ ë„ˆë¹„ëŠ” ëª‡ ê·œë¹—ì…ë‹ˆê¹Œ?", answer:["ì‹­ ê·œë¹—","10ê·œë¹—","10","ì‹­"], ref:"ìŠ¥ 5:2" },
        { category:"ìŠ¤ê°€ë´", level:"ì¤‘", type:"objective", question:"ì—ë°”(ê³¡ì‹ ì¸¡ì • ìš©ê¸°) ì†ì— ì•‰ì•„ ìˆëŠ” ì—¬ì¸ì˜ ì´ë¦„ì€?", options:["ì§ˆíˆ¬","íƒìš•","êµë§Œ","ì•…"], answer:3, ref:"ìŠ¥ 5:8" },
        { category:"ìŠ¤ê°€ë´", level:"ì¤‘", type:"subjective", question:"ë„¤ ë³‘ê±° í™˜ìƒ ì¤‘, ë„·ì§¸ ë³‘ê±°ì— ë§¤ì—¬ ìˆë˜ ë§ë“¤ì€ ì–´ë–¤ ë§ì…ë‹ˆê¹Œ?", answer:["ì–´ë¡±ì§€ê³  ê±´ì¥í•œ ë§","ì–´ë¡±ì§„ ë§","ê±´ì¥í•œ ë§"], ref:"ìŠ¥ 6:3" },
        { category:"ìŠ¤ê°€ë´", level:"ì¤‘", type:"subjective", question:"ìŠ¤ê°€ë´ ì„ ì§€ìê°€ ì–‘ ë–¼ë¥¼ ë¨¹ì´ê¸° ìœ„í•´ ì·¨í•œ ë‘ ë§‰ëŒ€ê¸°ì˜ ì´ë¦„ì€?", answer:["ì€ì´ê³¼ ì—°í•©","ì€ì´, ì—°í•©","ì€ì´ ì—°í•©"], ref:"ìŠ¥ 11:7" },
        { category:"ìŠ¤ê°€ë´", level:"ì¤‘", type:"objective", question:"ë²§ì—˜ ì‚¬ëŒë“¤ì´ 'ìš°ë¦¬ê°€ ì—¬ëŸ¬ í•´ ë™ì•ˆ í–‰í•œ ëŒ€ë¡œ ëª‡ ì›”ì— ìš¸ë©° ê·¼ì‹ í•˜ë¦¬ì´ê¹Œ'ë¼ê³  ë¬¼ì—ˆìŠµë‹ˆê¹Œ?", options:["ì˜¤ì›”","ì¹ ì›”","êµ¬ì›”","ì‹œì›”"], answer:0, ref:"ìŠ¥ 7:3" },
        { category:"ìŠ¤ê°€ë´", level:"ì¤‘", type:"objective", question:"ìŠ¤ê°€ë´ 14ì¥ì—ì„œ ì´ë°© ë‚˜ë¼ë“¤ì´ ë§¤ë…„ ì˜ˆë£¨ì‚´ë ˜ì— ì˜¬ë¼ì™€ ì§€ì¼œì•¼ í•  ì ˆê¸°ëŠ”?", options:["ìœ ì›”ì ˆ","ì¹ ì¹ ì ˆ","ì´ˆë§‰ì ˆ","ìˆ˜ì¥ì ˆ"], answer:2, ref:"ìŠ¥ 14:16" },
        // ìƒ
        { category:"ìŠ¤ê°€ë´", level:"ìƒ", type:"subjective", question:"ìŠ¤ê°€ë´ ì„ ì§€ìì—ê²Œ ì—¬í˜¸ì™€ì˜ ë§ì”€ì´ ì²˜ìŒ ì„í•œ ë•ŒëŠ” ë‹¤ë¦¬ì˜¤ ì™• ì œì´ë…„ ëª‡ì§¸ ë‹¬ì…ë‹ˆê¹Œ?", answer:["ì—¬ëŸì§¸ ë‹¬","8ì›”","íŒ”ì›”"], ref:"ìŠ¥ 1:1" },
        { category:"ìŠ¤ê°€ë´", level:"ìƒ", type:"objective", question:"ìŠ¤ê°€ë´ê°€ ì—¬ëŸ ê°€ì§€ í™˜ìƒì„ í•˜ë£»ë°¤ì— ëª¨ë‘ ë³¸ ë‚ ì§œëŠ”?", options:["ì—¬ëŸì§¸ ë‹¬ ì´ˆí•˜ë£¨","ì•„í™‰ì§¸ ë‹¬ ì´ì‹­ì‚¬ì¼","ì—´í•œì§¸ ë‹¬ ì´ì‹­ì‚¬ì¼","ì—´ì§¸ ë‹¬ ì‹­ì¼"], answer:2, ref:"ìŠ¥ 1:7" },
        { category:"ìŠ¤ê°€ë´", level:"ìƒ", type:"subjective", question:"ë°”ë²¨ë¡ ì—ì„œ ëŒì•„ì˜¨ ìë“¤ì´ ë‚¸ ì€ê³¼ ê¸ˆìœ¼ë¡œ ê´€ì„ ë§Œë“¤ì–´ ëˆ„êµ¬ì˜ ë¨¸ë¦¬ì— ì”Œì› ìŠµë‹ˆê¹Œ?", answer:["ì—¬í˜¸ìˆ˜ì•„","ëŒ€ì œì‚¬ì¥ ì—¬í˜¸ìˆ˜ì•„"], ref:"ìŠ¥ 6:11" },
        { category:"ìŠ¤ê°€ë´", level:"ìƒ", type:"subjective", question:"ì„ ì§€ìê°€ ìì‹ ì˜ í’ˆì‚¯ìœ¼ë¡œ ë°›ì€ ì€ì˜ ê°œìˆ˜ëŠ” ëª‡ ê°œì…ë‹ˆê¹Œ?", answer:["ì‚¼ì‹­","30","ì‚¼ì‹­ ê°œ","30ê°œ"], ref:"ìŠ¥ 11:12" },
        { category:"ìŠ¤ê°€ë´", level:"ìƒ", type:"objective", question:"í•˜ë‚˜ë‹˜ê»˜ì„œ 'ì˜ˆë£¨ì‚´ë ˜ì´ ì§„ë¦¬ì˜ ì„±ìì´ë¼ ì¼ì»¬ìŒì„ ë°›ê² ë‹¤'ê³  ë§ì”€í•˜ì‹  ë•ŒëŠ” ë‹¤ë¦¬ì˜¤ ì™• ì œì‚¬ë…„ ì•„í™‰ì§¸ ë‹¬ ë©°ì¹ ì…ë‹ˆê¹Œ?", options:["ì´ˆí•˜ë£¨","ì‚¬ì¼","ì‹­ì‚¬ì¼","ì´ì‹­ì‚¬ì¼"], answer:1, ref:"ìŠ¥ 7:1" },

        // â”€â”€ ì—ìŠ¤ë¼ (20ë¬¸ì œ) â”€â”€
        // í•˜
        { category:"ì—ìŠ¤ë¼", level:"í•˜", type:"objective", question:"ë°”ì‚¬ ì™• ê³ ë ˆìŠ¤ê°€ ì„±ì „ ê±´ì¶• ì¡°ì„œë¥¼ ë‚´ë¦° ë•ŒëŠ” ê·¸ì˜ í†µì¹˜ ì œ ëª‡ ë…„ì…ë‹ˆê¹Œ?", options:["ì œ1ë…„","ì œ3ë…„","ì œ7ë…„","ì œ10ë…„"], answer:0, ref:"ì— 1:1" },
        { category:"ì—ìŠ¤ë¼", level:"í•˜", type:"subjective", question:"í¬ë¡œì—ì„œ ëŒì•„ì˜¨ ë°±ì„±ë“¤ì´ ì œë‹¨ì„ ë§Œë“¤ê³  ê°€ì¥ ë¨¼ì € ì§€í‚¨ ì ˆê¸°ëŠ”?", answer:["ì´ˆë§‰ì ˆ"], ref:"ì— 3:4" },
        { category:"ì—ìŠ¤ë¼", level:"í•˜", type:"subjective", question:"í•™ì‚¬ ì—ìŠ¤ë¼ëŠ” ì´ìŠ¤ë¼ì—˜ì˜ ì²« ëŒ€ì œì‚¬ì¥ì´ì—ˆë˜ ëˆ„êµ¬ì˜ í›„ì†ì…ë‹ˆê¹Œ?", answer:["ì•„ë¡ "], ref:"ì— 7:1-5" },
        { category:"ì—ìŠ¤ë¼", level:"í•˜", type:"subjective", question:"ì—ìŠ¤ë¼ê°€ ê°€ì¡Œë˜ ë‘ ê°€ì§€ ì‹ ë¶„(ì§ë¶„)ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?", answer:["ì œì‚¬ì¥ê³¼ í•™ì‚¬","ì œì‚¬ì¥, í•™ì‚¬","ì œì‚¬ì¥ í•™ì‚¬"], ref:"ì— 7:11" },
        { category:"ì—ìŠ¤ë¼", level:"í•˜", type:"objective", question:"ì„±ì „ ê±´ì¶•ì„ ë°©í•´í•˜ë˜ ì‚¬ëŒë“¤ì´ ê¸€ì„ ì˜¬ë ¤ ê³µì‚¬ë¥¼ ì¤‘ë‹¨ì‹œí‚¨ ë°”ì‚¬ì˜ ì™•ì€?", options:["ê³ ë ˆìŠ¤","ë‹¤ë¦¬ì˜¤","ì•„ë‹¥ì‚¬ìŠ¤ë‹¤","ì•„í•˜ìˆ˜ì—ë¡œ"], answer:2, ref:"ì— 4:7,23-24" },
        // ì¤‘
        { category:"ì—ìŠ¤ë¼", level:"ì¤‘", type:"subjective", question:"ì œ1ì°¨ í¬ë¡œ ê·€í™˜ ë•Œ ì´ë…ìœ¼ë¡œ ì„ëª…ë˜ì–´ ì„±ì „ ê¸°êµ¬ë“¤ì„ ì¸ê³„ë°›ì€ ì¸ë¬¼ì€?", answer:["ì„¸ìŠ¤ë°”ì‚´"], ref:"ì— 1:8,5:14" },
        { category:"ì—ìŠ¤ë¼", level:"ì¤‘", type:"objective", question:"ì„±ì „ ì§€ëŒ€(ê¸°ì´ˆ)ë¥¼ ë†“ì„ ë•Œ, ì œì‚¬ì¥ë“¤ì´ ì˜ˆë³µì„ ì…ê³  ë“¤ê³  ì„œì„œ ì—¬í˜¸ì™€ë¥¼ ì°¬ì†¡í•œ ê²ƒì€?", options:["ë‚˜íŒ”","ìˆ˜ê¸ˆ","ë¹„íŒŒ","ì œê¸ˆ"], answer:0, ref:"ì— 3:10" },
        { category:"ì—ìŠ¤ë¼", level:"ì¤‘", type:"subjective", question:"ëŒ€ì ë“¤ì˜ ë°©í•´ë¡œ ì¤‘ë‹¨ë˜ì—ˆë˜ ì„±ì „ ê³µì‚¬ê°€ ë‹¤ì‹œ ì‹œì‘ëœ ê²ƒì€ ì–´ëŠ ì™•ì´ ì¦‰ìœ„í•œ í›„ì…ë‹ˆê¹Œ?", answer:["ë‹¤ë¦¬ì˜¤","ë‹¤ë¦¬ì˜¤ ì™•"], ref:"ì— 4:5" },
        { category:"ì—ìŠ¤ë¼", level:"ì¤‘", type:"objective", question:"ì„±ì „ì´ ì™„ê³µëœ ë‚ ì€ ë‹¤ë¦¬ì˜¤ ì™• ì œ6ë…„ ëª‡ ì›” ë©°ì¹ ì…ë‹ˆê¹Œ?", options:["ì •ì›” ì‹­ì‚¬ì¼","ì´ì›” ì‹­ì¼","ì•„ë‹¬ì›” ì‚¼ì¼","ê¸°ìŠ¬ë˜ì›” ì‚¬ì¼"], answer:2, ref:"ì— 6:15" },
        { category:"ì—ìŠ¤ë¼", level:"ì¤‘", type:"subjective", question:"ì—ìŠ¤ë¼ê°€ ì™•ì—ê²Œ ë¬´ì—‡ì´ë“  ë°›ì„ ìˆ˜ ìˆì—ˆë˜ ì´ìœ ëŠ” ì„±ê²½ì—ì„œ ë¬´ì—‡ì´ë¼ ì„¤ëª…í•©ë‹ˆê¹Œ?", answer:["í•˜ë‚˜ë‹˜ ì—¬í˜¸ì™€ì˜ ë„ìš°ì‹¬","ì—¬í˜¸ì™€ì˜ ë„ìš°ì‹¬","í•˜ë‚˜ë‹˜ì˜ ë„ìš°ì‹¬"], ref:"ì— 7:6" },
        { category:"ì—ìŠ¤ë¼", level:"ì¤‘", type:"objective", question:"ì—ìŠ¤ë¼ê°€ ì•„í•˜ì™€ ê°•ê°€ì—ì„œ ê¸ˆì‹í•˜ë©° ê¸°ë„í•œ ì´ìœ ëŠ”?", options:["ì–‘ì‹ì´ ë¶€ì¡±í•´ì„œ","ë³´ë³‘ê³¼ ë§ˆë³‘ì„ ì™•ì—ê²Œ êµ¬í•˜ê¸° ë¶€ë„ëŸ¬ì›Œì„œ","ë¹„ê°€ ë„ˆë¬´ ë§ì´ ì™€ì„œ","ì „ì—¼ë³‘ì´ ëŒì•„ì„œ"], answer:1, ref:"ì— 8:22" },
        { category:"ì—ìŠ¤ë¼", level:"ì¤‘", type:"subjective", question:"ì—ìŠ¤ë¼ê°€ ë°±ì„±ë“¤ì˜ ì´ë°© í†µí˜¼ ì†Œì‹ì„ ë“£ê³  ì·¨í•œ ì²« ë²ˆì§¸ í–‰ë™ì€?", answer:["ì†ì˜·ê³¼ ê²‰ì˜·ì„ ì°¢ê³ ","ì˜·ì„ ì°¢ê³ ","ì˜·ì„ ì°¢ìŒ"], ref:"ì— 9:3" },
        { category:"ì—ìŠ¤ë¼", level:"ì¤‘", type:"objective", question:"ì´ë°© ì—¬ì¸ê³¼ ê²°í˜¼í•œ ì£„ë¥¼ íšŒê°œí•˜ê¸° ìœ„í•´ ëª¨ì¸ ë°±ì„±ë“¤ì´ ë–¨ê³  ìˆì—ˆë˜ ì´ìœ ëŠ” 'ì´ ì¼' ë•Œë¬¸ê³¼ ë˜ ë¬´ì—‡ ë•Œë¬¸?", options:["ë°°ê³ í””","í° ë¹„","ì¶”ìœ„","ëŒ€ì ì˜ ì¹¨ê³µ"], answer:1, ref:"ì— 10:9" },
        { category:"ì—ìŠ¤ë¼", level:"ì¤‘", type:"subjective", question:"ì´ë°© ì—¬ì¸ê³¼ ê²°í˜¼í•œ ìë“¤ì„ ì¡°ì‚¬í•˜ì—¬ ì¼ì„ ë§ˆë¬´ë¦¬í•˜ëŠ” ë° ê±¸ë¦° ê¸°ê°„ì€?", answer:["ì„ ë‹¬","3ê°œì›”","ì‚¼ ê°œì›”"], ref:"ì— 10:16-17" },
        { category:"ì—ìŠ¤ë¼", level:"ì¤‘", type:"subjective", question:"ì„±ì „ ë´‰í—Œì‹ì„ ë§ˆì¹œ í›„ ì •ì›” ì‹­ì‚¬ì¼ì— ë°±ì„±ë“¤ì´ ì§€í‚¨ ì ˆê¸°ëŠ”?", answer:["ìœ ì›”ì ˆ"], ref:"ì— 6:19" },
        // ìƒ
        { category:"ì—ìŠ¤ë¼", level:"ìƒ", type:"objective", question:"ê³ ë ˆìŠ¤ ì™•ì´ ë‚´ì–´ì¤€ ì„±ì „ ê¸°ëª… ì¤‘ 'ê¸ˆ ì ‘ì‹œ'ì˜ ê°œìˆ˜ëŠ”?", options:["10ê°œ","30ê°œ","100ê°œ","1,000ê°œ"], answer:1, ref:"ì— 1:9" },
        { category:"ì—ìŠ¤ë¼", level:"ìƒ", type:"subjective", question:"ì œ1ì°¨ í¬ë¡œ ê·€í™˜ ë•Œ ëŒì•„ì˜¨ ì „ì²´ íšŒì¤‘ì˜ í•©ê³„ëŠ” ì´ ëª‡ ëª…ì…ë‹ˆê¹Œ?", answer:["42360ëª…","42,360ëª…","42360","ì‚¬ë§Œì´ì²œì‚¼ë°±ìœ¡ì‹­"], ref:"ì— 2:64" },
        { category:"ì—ìŠ¤ë¼", level:"ìƒ", type:"subjective", question:"ì„±ì „ ë´‰í—Œì‹ ë•Œ ì´ìŠ¤ë¼ì—˜ ì „ì²´ ì§€íŒŒ ìˆ˜ë¥¼ ë”°ë¼ ì†ì£„ì œë¡œ ë“œë¦° ìˆ˜ì—¼ì†ŒëŠ” ëª‡ ë§ˆë¦¬?", answer:["12","12ë§ˆë¦¬","ì‹­ì´","ì—´ë‘"], ref:"ì— 6:17" },
        { category:"ì—ìŠ¤ë¼", level:"ìƒ", type:"objective", question:"ì—ìŠ¤ë¼ê°€ 'ê°€ì‹œë±Œ' ì§€ë°©ìœ¼ë¡œ ì‚¬ëŒì„ ë³´ë‚´ ë°ë ¤ì˜¨ 'ëª…ì² í•œ ì‚¬ëŒ'ì˜ ì´ë¦„ì€?", options:["ì„¸ë ˆë±Œ","ë„ë¹„ì•¼","ì‚°ë°œë","ê²Œì…ˆ"], answer:0, ref:"ì— 8:18" },
        { category:"ì—ìŠ¤ë¼", level:"ìƒ", type:"subjective", question:"ì—ìŠ¤ë¼ê°€ ë°”ë²¨ë¡ ì—ì„œ ì¶œë°œí•˜ì—¬ ì˜ˆë£¨ì‚´ë ˜ì— ë„ì°©í•˜ê¸°ê¹Œì§€ ê±¸ë¦° ê¸°ê°„ì€?", answer:["4ê°œì›”","ì‚¬ê°œì›”","ë„‰ ë‹¬"], ref:"ì— 7:9" },

        // â”€â”€ ëŠí—¤ë¯¸ì•¼ (20ë¬¸ì œ) â”€â”€
        // í•˜
        { category:"ëŠí—¤ë¯¸ì•¼", level:"í•˜", type:"subjective", question:"ëŠí—¤ë¯¸ì•¼ê°€ ë°”ì‚¬ ê¶ì—ì„œ ë§¡ì•˜ë˜ ì§ì±…ì€?", answer:["ìˆ  ê´€ì›","ìˆ ê´€ì›"], ref:"ëŠ 1:11" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"í•˜", type:"objective", question:"ì˜ˆë£¨ì‚´ë ˜ ì„±ë²½ì´ í—ˆë¬¼ì–´ì¡Œë‹¤ëŠ” ì†Œì‹ì„ ëŠí—¤ë¯¸ì•¼ì—ê²Œ ì „í•´ì¤€ í˜•ì œëŠ”?", options:["í•˜ë‚˜ë‹ˆ","í•˜ë‚˜ëƒ","ì‚°ë°œë","ë„ë¹„ì•¼"], answer:0, ref:"ëŠ 1:2" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"í•˜", type:"subjective", question:"ëŠí—¤ë¯¸ì•¼ê°€ ì˜ˆë£¨ì‚´ë ˜ ì„±ë²½ ì¬ê±´ì„ ê°€ì¥ ì§‘ìš”í•˜ê²Œ ë°©í•´í–ˆë˜ ë‘ ì¸ë¬¼ì€?", answer:["ì‚°ë°œëê³¼ ë„ë¹„ì•¼","ì‚°ë°œë, ë„ë¹„ì•¼"], ref:"ëŠ 2:10" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"í•˜", type:"objective", question:"ëŠí—¤ë¯¸ì•¼ì™€ ë°±ì„±ë“¤ì´ ì˜ˆë£¨ì‚´ë ˜ ì„±ë²½ì„ ì™„ê³µí•˜ëŠ” ë° ê±¸ë¦° ì‹œê°„ì€?", options:["40ì¼","52ì¼","70ì¼","120ì¼"], answer:1, ref:"ëŠ 6:15" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"í•˜", type:"subjective", question:"ì„±ë²½ ì¬ê±´ í›„ í•™ì‚¬ ì—ìŠ¤ë¼ê°€ ìœ¨ë²•ì±…ì„ ë‚­ë…í•  ë•Œ ë°±ì„±ë“¤ì€ ì–´ë””ì— ëª¨ì—¬ ìˆì—ˆìŠµë‹ˆê¹Œ?", answer:["ìˆ˜ë¬¸ ì• ê´‘ì¥","ìˆ˜ë¬¸ ì•"], ref:"ëŠ 8:1" },
        // ì¤‘
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ì¤‘", type:"objective", question:"ëŠí—¤ë¯¸ì•¼ê°€ ë°¤ì— ëª°ë˜ ì„±ë²½ì„ ì‚´í´ë³¼ ë•Œ íƒ€ê³  ë‚˜ê°„ ê²ƒì€?", options:["ë³‘ê±°","ë‚™íƒ€","ì§ìŠ¹","ìˆ˜ë ˆ"], answer:2, ref:"ëŠ 2:12" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ì¤‘", type:"subjective", question:"ëŒ€ì ë“¤ì˜ ìœ„í˜‘ì´ ì‹¬í•´ì§€ì í•œ ì†ì—ëŠ” ì—°ì¥ì„, ë‹¤ë¥¸ í•œ ì†ì—ëŠ” ë¬´ì—‡ì„ ì¡ê²Œ í–ˆìŠµë‹ˆê¹Œ?", answer:["ë³‘ê¸°","ë¬´ê¸°","ì¹¼","ì°½"], ref:"ëŠ 4:17" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ì¤‘", type:"objective", question:"ëŠí—¤ë¯¸ì•¼ê°€ ê·€ì¡±ë“¤ê³¼ ë¯¼ì¥ë“¤ì„ ê¾¸ì§–ì–´ íì§€í•˜ê²Œ í•œ ê²ƒì€?", options:["ì„¸ê¸ˆ","ì œì‚¬","ì´ì","ë¶€ì—­"], answer:2, ref:"ëŠ 5:7" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ì¤‘", type:"subjective", question:"ì„±ë²½ ë´‰í—Œí•  ë•Œ ì°¬ì–‘í•˜ëŠ” ìë“¤ì´ ë™ì›í•œ ì•…ê¸°ëŠ”?", answer:["ì œê¸ˆ, ë¹„íŒŒ, ìˆ˜ê¸ˆ","ì œê¸ˆ ë¹„íŒŒ ìˆ˜ê¸ˆ"], ref:"ëŠ 12:27" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ì¤‘", type:"objective", question:"ì—ìŠ¤ë¼ê°€ ìœ¨ë²•ì±…ì„ í´ì„œ ì½ì„ ë•Œ ëª¨ë“  ë°±ì„±ì´ ì·¨í•œ í–‰ë™ì€?", options:["ì¼ì–´ì„°ë‹¤","ì—ë“œë ¸ë‹¤","ì¶¤ì„ ì·„ë‹¤","í†µê³¡í–ˆë‹¤"], answer:0, ref:"ëŠ 8:5" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ì¤‘", type:"subjective", question:"ì–‘ë¬¸ì„ ê±´ì¶•í•˜ê³  ì„±ë³„í•˜ì—¬ ë¬¸ì§ì„ ë‹¨ ì‚¬ëŒì€?", answer:["ì—˜ë¦¬ì•„ì‹­","ëŒ€ì œì‚¬ì¥ ì—˜ë¦¬ì•„ì‹­"], ref:"ëŠ 3:1" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ì¤‘", type:"objective", question:"ì‚°ë°œëê³¼ ë„ë¹„ì•¼ê°€ ëŠí—¤ë¯¸ì•¼ë¥¼ ìœ ì¸í•˜ê¸° ìœ„í•´ ë§Œë‚˜ìê³  ì œì•ˆí•œ ê³³ì€?", options:["ì—¬ë¦¬ê³  í‰ì§€","ì˜¤ë…¸ í‰ì§€","ê¸°ë“œë¡  ê³¨ì§œê¸°","íŒë†ˆì˜ ê³¨ì§œê¸°"], answer:1, ref:"ëŠ 6:2" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ì¤‘", type:"subjective", question:"ì„±ë²½ ì™„ê³µ í›„ ì˜ˆë£¨ì‚´ë ˜ ì„±ì•ˆì— ê±°ì£¼í•  ì‚¬ëŒì„ ì •í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œ ë°©ë²•ì€?", answer:["ì œë¹„ ë½‘ê¸°","ì œë¹„ë½‘ê¸°"], ref:"ëŠ 11:1" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ì¤‘", type:"subjective", question:"ëŠí—¤ë¯¸ì•¼ 13ì¥ì—ì„œ ì•ˆì‹ì¼ ì „ë‚  ì–´ë‘ì›Œê°ˆ ë•Œ ëŠí—¤ë¯¸ì•¼ê°€ ë‹«ê²Œ í•œ ê²ƒì€?", answer:["ì„±ë¬¸"], ref:"ëŠ 13:19" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ì¤‘", type:"objective", question:"ì„±ë²½ ì¬ê±´ì— ì°¸ì—¬í•œ 'ë“œê³ ì•„ ì‚¬ëŒ'ë“¤ ì¤‘ ê³µì‚¬ë¥¼ ë¶„ë‹´í•˜ì§€ ì•Šì€ ìë“¤ì€?", options:["ë¶€ì¸ë“¤","ìë…€ë“¤","ì¢…ë“¤","ê·€ì¡±ë“¤"], answer:3, ref:"ëŠ 3:5" },
        // ìƒ
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ìƒ", type:"subjective", question:"ëŠí—¤ë¯¸ì•¼ê°€ ì˜ˆë£¨ì‚´ë ˜ì˜ ì†Œì‹ì„ ì²˜ìŒ ë“¤ì—ˆì„ ë•Œì˜ ì •í™•í•œ ì‹œê¸°ëŠ”?", answer:["ì•„ë‹¥ì‚¬ìŠ¤ë‹¤ ì™• ì œì´ì‹­ë…„ ê¸°ìŠ¬ë˜ì›”","ê¸°ìŠ¬ë˜ì›”"], ref:"ëŠ 1:1" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ìƒ", type:"objective", question:"ëŠí—¤ë¯¸ì•¼ê°€ ìœ ë‹¤ ì´ë…ìœ¼ë¡œ ì‚¬ì—­í•œ ì²« ë²ˆì§¸ ê¸°ê°„ì€ ì´ ëª‡ ë…„ì…ë‹ˆê¹Œ?", options:["5ë…„","7ë…„","10ë…„","12ë…„"], answer:3, ref:"ëŠ 5:14" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ìƒ", type:"subjective", question:"ë„ë¹„ì•¼ê°€ 'ê·¸ë“¤ì´ ê±´ì¶•í•˜ëŠ” ëŒ ì„±ë²½ì€ ( )ê°€ ì˜¬ë¼ê°€ë„ ê³§ ë¬´ë„ˆì§€ë¦¬ë¼'ê³  ì¡°ë¡±í–ˆìŠµë‹ˆë‹¤. ê´„í˜¸ ì•ˆì˜ ë™ë¬¼ì€?", answer:["ì—¬ìš°"], ref:"ëŠ 4:3" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ìƒ", type:"objective", question:"ì„±ë²½ì´ ì™„ê³µëœ êµ¬ì²´ì  ë‚ ì§œëŠ”?", options:["ì—˜ë£°ì›” ì´ì‹­ì˜¤ì¼","ê¸°ìŠ¬ë˜ì›” ì´ˆí•˜ë£¨","ë‹ˆì‚°ì›” ì‹­ì‚¬ì¼","ì•„ë‹¬ì›” ì‚¼ì¼"], answer:0, ref:"ëŠ 6:15" },
        { category:"ëŠí—¤ë¯¸ì•¼", level:"ìƒ", type:"subjective", question:"ëŠí—¤ë¯¸ì•¼ 13ì¥ì—ì„œ ëŠí—¤ë¯¸ì•¼ê°€ ë°”ì‚¬ë¡œ ëŒì•„ê°„ ì‚¬ì´ ëŒ€ì œì‚¬ì¥ ì—˜ë¦¬ì•„ì‹­ì´ ì„±ì „ì— ë°©ì„ ë§Œë“¤ì–´ ì¤€ ëŒ€ì ì€?", answer:["ë„ë¹„ì•¼"], ref:"ëŠ 13:4-5" }
    ];

    // ë¬¸ì œ ì…”í”Œ í•¨ìˆ˜ (Fisher-Yates)
    function shuffleArray(arr) {
        const shuffled = [...arr];
        for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
        }
        return shuffled;
    }

    let shuffledQuiz = [];
    let currentQuestionIndex = 0;
    let score = 0;
    let lives = 3;
    let streak = 0;
    let isAnswering = true;
    let playerName = '';
    let playerGroup = '';
    let timer = null;
    let timeLeft = 0;
    let currentCorrectIndex = 0;
    let currentShuffledOptions = [];
    const TIME_LIMITS = { 'objective': 10, 'subjective': 15 };

    const startScreen = document.getElementById('start-screen');
    const registerScreen = document.getElementById('register-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    const leaderboardScreen = document.getElementById('leaderboard-screen');
    const gameoverScreen = document.getElementById('gameover-screen');
    const questionEl = document.getElementById('question');
    const optionsContainer = document.getElementById('options-container');
    const inputContainer = document.getElementById('input-container');
    const badgeEl = document.getElementById('category-badge');
    const progressBar = document.getElementById('progress');
    const feedbackEl = document.getElementById('feedback');

    // ì£¼ê´€ì‹ Enterí‚¤ ì œì¶œ
    document.getElementById('subjective-answer').addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            submitSubjective();
        }
    });

    function hideAllScreens() {
        [startScreen, registerScreen, quizScreen, resultScreen, leaderboardScreen, gameoverScreen]
            .forEach(s => s.classList.add('hidden'));
    }

    function updateHUD() {
        const heartsEl = document.getElementById('hud-lives');
        heartsEl.innerHTML = 'â¤ï¸'.repeat(lives) + 'ğŸ–¤'.repeat(3 - lives);
        document.getElementById('hud-score').textContent = `${score}ì `;
        const streakEl = document.getElementById('hud-streak');
        streakEl.textContent = streak >= 2 ? `${streak}ì—°ì† ì •ë‹µ! ğŸ”¥` : '';
    }

    function showScoreFloat(points) {
        const floater = document.createElement('div');
        floater.className = 'score-float';
        floater.textContent = `+${points}`;
        quizScreen.appendChild(floater);
        setTimeout(() => floater.remove(), 1000);
    }

    function loseLife() {
        lives--;
        const heartsEl = document.getElementById('hud-lives');
        heartsEl.classList.add('shake');
        setTimeout(() => heartsEl.classList.remove('shake'), 500);
        updateHUD();
    }

    function calcPoints(level) {
        const levelBonus = level === 'ìƒ' ? 30 : level === 'ì¤‘' ? 20 : 10;
        const streakBonus = streak >= 2 ? streak * 5 : 0;
        const timeBonus = Math.floor(timeLeft / 2);
        return levelBonus + streakBonus + timeBonus;
    }

    function startTimer(type) {
        clearInterval(timer);
        const total = TIME_LIMITS[type] || 10;
        timeLeft = total;
        const timerText = document.getElementById('timer-text');
        const timerFill = document.getElementById('timer-fill');

        // ì´ˆê¸° ìƒíƒœ: 100%
        timerFill.style.transition = 'none';
        timerFill.style.width = '100%';
        timerFill.className = 'timer-fill green';
        timerText.textContent = total;
        timerText.className = 'timer-text green';

        // ë‹¤ìŒ í”„ë ˆì„ì—ì„œ ì„ í˜• íŠ¸ëœì§€ì…˜ìœ¼ë¡œ 0%ê¹Œì§€ ì¤„ì´ê¸°
        requestAnimationFrame(() => {
            requestAnimationFrame(() => {
                timerFill.style.transition = `width ${total}s linear, background 0.3s`;
                timerFill.style.width = '0%';
            });
        });

        timer = setInterval(() => {
            timeLeft--;
            timerText.textContent = Math.max(timeLeft, 0);
            const pct = timeLeft / total;
            const color = pct > 0.5 ? 'green' : pct > 0.25 ? 'yellow' : 'red';
            timerText.className = 'timer-text ' + color;
            timerFill.className = 'timer-fill ' + color;
            if (timeLeft <= 0) {
                clearInterval(timer);
                timeUp();
            }
        }, 1000);
    }

    function stopTimer() {
        clearInterval(timer);
        const timerFill = document.getElementById('timer-fill');
        // í˜„ì¬ ìœ„ì¹˜ì—ì„œ ë©ˆì¶”ê¸°
        const currentWidth = timerFill.getBoundingClientRect().width;
        const parentWidth = timerFill.parentElement.getBoundingClientRect().width;
        timerFill.style.transition = 'none';
        timerFill.style.width = (currentWidth / parentWidth * 100) + '%';
    }

    function timeUp() {
        if (!isAnswering) return;
        isAnswering = false;
        const currentData = shuffledQuiz[currentQuestionIndex];
        streak = 0;
        loseLife();
        quizScreen.classList.add('shake');
        setTimeout(() => quizScreen.classList.remove('shake'), 500);

        if (currentData.type === 'objective') {
            const buttons = optionsContainer.getElementsByTagName('button');
            buttons[currentCorrectIndex].style.background = "#d4edda";
            feedbackEl.innerHTML = `<div class="feedback-wrong">ì‹œê°„ ì´ˆê³¼! ì •ë‹µ: ${currentShuffledOptions[currentCorrectIndex]} (${currentData.ref})</div>`;
        } else {
            feedbackEl.innerHTML = `<div class="feedback-wrong">ì‹œê°„ ì´ˆê³¼! ì •ë‹µ: ${currentData.answer[0]} (${currentData.ref})</div>`;
        }

        if (lives <= 0) {
            setTimeout(showGameOver, 1500);
        } else {
            setTimeout(nextQuestion, 2000);
        }
    }

    function showRegister() {
        hideAllScreens();
        registerScreen.classList.remove('hidden');
        document.getElementById('input-group').focus();
    }

    function showStart() {
        hideAllScreens();
        startScreen.classList.remove('hidden');
    }

    function showLeaderboard() {
        hideAllScreens();
        leaderboardScreen.classList.remove('hidden');
        renderLeaderboard();
    }

    function startQuiz() {
        // ì…ë ¥ ê²€ì¦
        const groupInput = document.getElementById('input-group');
        const nameInput = document.getElementById('input-name');
        const errorGroup = document.getElementById('error-group');
        const errorName = document.getElementById('error-name');

        let valid = true;
        errorGroup.style.display = 'none';
        errorName.style.display = 'none';

        if (!groupInput.value.trim()) {
            errorGroup.style.display = 'block';
            valid = false;
        }
        if (!nameInput.value.trim()) {
            errorName.style.display = 'block';
            valid = false;
        }
        if (!valid) return;

        playerGroup = groupInput.value.trim();
        playerName = nameInput.value.trim();

        hideAllScreens();
        quizScreen.classList.remove('hidden');
        shuffledQuiz = shuffleArray(quizData);
        currentQuestionIndex = 0;
        score = 0;
        lives = 3;
        streak = 0;
        updateHUD();
        loadQuestion();
    }

    function loadQuestion() {
        isAnswering = true;
        feedbackEl.innerHTML = "";
        document.getElementById('subjective-answer').value = "";
        
        const currentData = shuffledQuiz[currentQuestionIndex];
        
        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        const progressPercent = ((currentQuestionIndex) / shuffledQuiz.length) * 100;
        progressBar.style.width = `${progressPercent}%`;

        // ë¬¸ì œ ì„¸íŒ…
        badgeEl.textContent = `${currentData.category} | ë‚œì´ë„: ${currentData.level}`;
        questionEl.textContent = `Q${currentQuestionIndex + 1}. ${currentData.question}`;
        startTimer(currentData.type);

        // íƒ€ì…ë³„ UI ë¶„ê¸°
        if (currentData.type === 'objective') {
            optionsContainer.classList.remove('hidden');
            inputContainer.classList.add('hidden');
            optionsContainer.innerHTML = '';

            // ë³´ê¸° ìˆœì„œ ì…”í”Œ (ì •ë‹µ í¸ì¤‘ ë°©ì§€)
            const indices = currentData.options.map((_, i) => i);
            const shuffledIndices = shuffleArray(indices);
            currentShuffledOptions = shuffledIndices.map(i => currentData.options[i]);
            currentCorrectIndex = shuffledIndices.indexOf(currentData.answer);

            currentShuffledOptions.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.className = 'btn btn-option';
                btn.textContent = `${index + 1}. ${option}`;
                btn.onclick = () => checkAnswer(index);
                optionsContainer.appendChild(btn);
            });
        } else {
            optionsContainer.classList.add('hidden');
            inputContainer.classList.remove('hidden');
        }
    }

    function handleCorrect(currentData) {
        stopTimer();
        streak++;
        const points = calcPoints(currentData.level);
        score += points;
        showScoreFloat(points);
        updateHUD();
        const streakMsg = streak >= 2 ? ` (${streak}ì—°ì†! ğŸ”¥)` : '';
        feedbackEl.innerHTML = `<div class="feedback-correct">ì •ë‹µ! +${points}ì ${streakMsg} (${currentData.ref})</div>`;
    }

    function handleWrong(currentData, correctText) {
        stopTimer();
        streak = 0;
        loseLife();
        quizScreen.classList.add('shake');
        setTimeout(() => quizScreen.classList.remove('shake'), 500);
        feedbackEl.innerHTML = `<div class="feedback-wrong">ì˜¤ë‹µ! ì •ë‹µ: ${correctText} (${currentData.ref})</div>`;
    }

    // ê°ê´€ì‹ ì •ë‹µ í™•ì¸
    function checkAnswer(selectedIndex) {
        if (!isAnswering) return;
        isAnswering = false;

        const currentData = shuffledQuiz[currentQuestionIndex];
        const buttons = optionsContainer.getElementsByTagName('button');

        if (selectedIndex === currentCorrectIndex) {
            buttons[selectedIndex].style.background = "#d4edda";
            buttons[selectedIndex].style.borderColor = "#c3e6cb";
            handleCorrect(currentData);
        } else {
            buttons[selectedIndex].style.background = "#f8d7da";
            buttons[selectedIndex].style.borderColor = "#f5c6cb";
            buttons[currentCorrectIndex].style.background = "#d4edda";
            handleWrong(currentData, currentShuffledOptions[currentCorrectIndex]);
        }

        if (lives <= 0) {
            setTimeout(showGameOver, 1500);
        } else {
            setTimeout(nextQuestion, 2000);
        }
    }

    // ì£¼ê´€ì‹ ì •ë‹µ í™•ì¸
    function submitSubjective() {
        if (!isAnswering) return;
        isAnswering = false;

        const input = document.getElementById('subjective-answer');
        const userValue = input.value.trim().replace(/\s/g, '');
        const currentData = shuffledQuiz[currentQuestionIndex];
        const isCorrect = currentData.answer.some(ans => {
            const normAns = ans.replace(/\s/g, '');
            return userValue === normAns;
        });

        if (isCorrect) {
            handleCorrect(currentData);
        } else {
            handleWrong(currentData, currentData.answer[0]);
        }

        if (lives <= 0) {
            setTimeout(showGameOver, 1500);
        } else {
            setTimeout(nextQuestion, 2000);
        }
    }

    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < shuffledQuiz.length) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    function showGameOver() {
        hideAllScreens();
        gameoverScreen.classList.remove('hidden');

        document.getElementById('gameover-player-info').textContent =
            `${playerGroup} Â· ${playerName}`;
        document.getElementById('gameover-score').textContent = `${score}ì `;

        const msgEl = document.getElementById('gameover-message');
        if (score > 0) msgEl.textContent = "ì•„ê¹ë„¤ìš”! ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”! ğŸ’ª";
        else msgEl.textContent = "ë‹¤ìŒì—” ë” ì˜í•  ìˆ˜ ìˆì–´ìš”! í™”ì´íŒ…! ğŸ“–";

        saveScore(playerGroup, playerName, score);
    }

    function showResult() {
        hideAllScreens();
        resultScreen.classList.remove('hidden');

        document.getElementById('result-player-info').textContent =
            `${playerGroup} Â· ${playerName}ë‹˜, ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!`;

        const finalScoreEl = document.getElementById('final-score');
        finalScoreEl.textContent = `${score}ì `;

        const msgEl = document.getElementById('result-message');
        if (lives === 3) msgEl.textContent = "ì™„ë²½í•©ë‹ˆë‹¤! ëª©ìˆ¨ì„ í•˜ë‚˜ë„ ì•ˆ ìƒì—ˆì–´ìš”! ğŸ‰";
        else if (lives === 2) msgEl.textContent = "í›Œë¥­í•©ë‹ˆë‹¤! ì„±ê²½ ë°•ì‚¬ë‹˜ì´ì‹œë„¤ìš”! âœ¨";
        else msgEl.textContent = "ê°„ì‹ íˆ ì‚´ì•„ë‚¨ì•˜ë„¤ìš”! ëŒ€ë‹¨í•´ìš”! ğŸ™";

        saveScore(playerGroup, playerName, score);
    }

    function restartQuiz() {
        hideAllScreens();
        registerScreen.classList.remove('hidden');
    }

    // â”€â”€â”€ ë¦¬ë”ë³´ë“œ (Firestore) â”€â”€â”€
    function esc(str) {
        const d = document.createElement('div');
        d.textContent = str;
        return d.innerHTML;
    }

    function saveScore(group, name, score) {
        db.collection('scores').add({
            group: group,
            name: name,
            score: score,
            timestamp: firebase.firestore.FieldValue.serverTimestamp()
        }).catch(function(error) {
            console.error('ì ìˆ˜ ì €ì¥ ì‹¤íŒ¨:', error);
        });
    }

    async function renderLeaderboard() {
        const container = document.getElementById('leaderboard-content');
        container.innerHTML = '<div class="leaderboard-empty">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>';

        try {
            const snapshot = await db.collection('scores')
                .orderBy('score', 'desc')
                .limit(20)
                .get();

            if (snapshot.empty) {
                container.innerHTML = '<div class="leaderboard-empty">ì•„ì§ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.<br>ì²« ë²ˆì§¸ ë„ì „ìê°€ ë˜ì–´ë³´ì„¸ìš”!</div>';
                return;
            }

            const medals = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'];
            let html = `<table class="leaderboard-table">
                <thead><tr>
                    <th>ìˆœìœ„</th><th>ì†Œì†</th><th>ì´ë¦„</th><th>ì ìˆ˜</th>
                </tr></thead><tbody>`;

            snapshot.docs.forEach((doc, i) => {
                const entry = doc.data();
                const rankClass = i < 3 ? ` class="rank-${i + 1}"` : '';
                const rankText = i < 3 ? `<span class="medal">${medals[i]}</span>` : (i + 1);
                html += `<tr${rankClass}>
                    <td>${rankText}</td>
                    <td>${esc(entry.group)}</td>
                    <td>${esc(entry.name)}</td>
                    <td><strong>${entry.score}ì </strong></td>
                </tr>`;
            });

            html += '</tbody></table>';
            container.innerHTML = html;
        } catch (error) {
            console.error('ë¦¬ë”ë³´ë“œ ì¡°íšŒ ì‹¤íŒ¨:', error);
            container.innerHTML = '<div class="leaderboard-empty">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</div>';
        }
    }
</script>

</body>
</html>